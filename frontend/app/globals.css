@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   ALPHAPOLY - Professional Trading Interface
   Refined, data-dense design system for serious traders
   ========================================================================== */

/* --------------------------------------------------------------------------
   CSS Custom Properties
   -------------------------------------------------------------------------- */
:root {
  /* Core palette - Deep, professional dark */
  --color-void: 10 10 14;
  --color-surface: 16 17 21;
  --color-surface-elevated: 22 24 30;
  --color-surface-hover: 28 30 38;

  /* Border colors - subtle, refined */
  --color-border: 38 42 52;
  --color-border-glow: 48 52 64;

  /* Text hierarchy - high contrast for readability */
  --color-text-primary: 245 247 250;
  --color-text-secondary: 156 163 175;
  --color-text-muted: 100 107 120;

  /* Primary accent - refined teal instead of electric cyan */
  --color-cyan: 56 189 248;
  --color-cyan-dim: 45 160 210;

  /* Secondary accents */
  --color-amber: 251 191 36;
  --color-amber-dim: 217 164 30;
  --color-emerald: 52 211 153;
  --color-rose: 251 113 133;

  /* Alpha signal colors - clear distinction */
  --color-alpha-buy: 74 222 128;
  --color-alpha-sell: 248 113 113;
}

/* --------------------------------------------------------------------------
   Base Styles
   -------------------------------------------------------------------------- */
html {
  scroll-behavior: smooth;
}

body {
  color: rgb(var(--color-text-primary));
  background: rgb(var(--color-void));
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* --------------------------------------------------------------------------
   Typography Utilities
   -------------------------------------------------------------------------- */
.font-display {
  font-family: var(--font-syne), system-ui, sans-serif;
  letter-spacing: -0.01em;
}

.font-mono {
  font-family: var(--font-jetbrains), ui-monospace, monospace;
}

/* --------------------------------------------------------------------------
   Button Styles
   -------------------------------------------------------------------------- */
.btn-primary {
  background: rgb(var(--color-cyan));
  color: rgb(var(--color-void));
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  transition: all 0.15s ease;
}

.btn-primary:hover {
  background: rgb(var(--color-cyan-dim));
}

.btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-secondary {
  background: rgb(var(--color-surface-elevated));
  border: 1px solid rgb(var(--color-border));
  color: rgb(var(--color-text-primary));
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  transition: all 0.15s ease;
}

.btn-secondary:hover {
  background: rgb(var(--color-surface-hover));
  border-color: rgb(var(--color-border-glow));
}

.btn-ghost {
  background: transparent;
  color: rgb(var(--color-text-secondary));
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  transition: all 0.15s ease;
}

.btn-ghost:hover {
  background: rgb(var(--color-surface-elevated));
  color: rgb(var(--color-text-primary));
}

/* --------------------------------------------------------------------------
   Scrollbar
   -------------------------------------------------------------------------- */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--color-border));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--color-border-glow));
}

/* --------------------------------------------------------------------------
   Animations - Subtle and fast
   -------------------------------------------------------------------------- */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out forwards;
}

/* Staggered animation delays - faster */
.stagger-1 { animation-delay: 0.03s; }
.stagger-2 { animation-delay: 0.06s; }
.stagger-3 { animation-delay: 0.09s; }
.stagger-4 { animation-delay: 0.12s; }
.stagger-5 { animation-delay: 0.15s; }
.stagger-6 { animation-delay: 0.18s; }

/* Price flash animations for real-time updates */
@keyframes flash-up {
  0% { background-color: transparent; }
  20% { background-color: rgb(var(--color-emerald) / 0.25); }
  100% { background-color: transparent; }
}

@keyframes flash-down {
  0% { background-color: transparent; }
  20% { background-color: rgb(var(--color-rose) / 0.25); }
  100% { background-color: transparent; }
}

@keyframes flash {
  0% { background-color: transparent; }
  20% { background-color: rgb(var(--color-cyan) / 0.2); }
  100% { background-color: transparent; }
}

.animate-flash-up {
  animation: flash-up 2s ease-out;
}

.animate-flash-down {
  animation: flash-down 2s ease-out;
}

.animate-flash {
  animation: flash 2s ease-out;
}

/* --------------------------------------------------------------------------
   Selection
   -------------------------------------------------------------------------- */
::selection {
  background: rgb(var(--color-cyan) / 0.25);
  color: white;
}

/* --------------------------------------------------------------------------
   Focus States
   -------------------------------------------------------------------------- */
input:focus,
button:focus-visible,
a:focus-visible {
  outline: 1px solid rgb(var(--color-cyan) / 0.5);
  outline-offset: 1px;
}

/* --------------------------------------------------------------------------
   Form Elements
   -------------------------------------------------------------------------- */
input[type="text"],
input[type="search"] {
  background: rgb(var(--color-surface-elevated));
  border: 1px solid rgb(var(--color-border));
  color: rgb(var(--color-text-primary));
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  transition: border-color 0.15s ease;
}

input[type="text"]:focus,
input[type="search"]:focus {
  border-color: rgb(var(--color-cyan) / 0.5);
}

input::placeholder {
  color: rgb(var(--color-text-muted));
}

/* --------------------------------------------------------------------------
   Column Hint Tooltips
   -------------------------------------------------------------------------- */
.column-hint {
  position: relative;
  display: inline-flex;
  align-items: center;
}

.column-hint-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0.4;
  cursor: help;
  transition: opacity 0.15s ease;
}

.column-hint-icon svg {
  width: 11px;
  height: 11px;
}

.column-hint:hover .column-hint-icon {
  opacity: 1;
}

.column-hint-tooltip {
  position: absolute;
  top: calc(100% + 6px);
  left: 50%;
  transform: translateX(-50%);
  z-index: 50;
  pointer-events: none;

  /* Hidden by default */
  opacity: 0;
  visibility: hidden;
  transform: translateX(-50%) translateY(4px);
  transition: all 0.15s ease;

  /* Tooltip styling */
  width: max-content;
  max-width: 200px;
  padding: 8px 10px;
  background: rgb(22 24 30);
  border: 1px solid rgb(var(--color-border));
  border-radius: 6px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
  text-align: left;
  text-transform: none;
}

.column-hint:hover .column-hint-tooltip {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(0);
}

.column-hint-title {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: rgb(var(--color-text-primary));
  margin-bottom: 4px;
}

.column-hint-text {
  display: block;
  font-size: 11px;
  line-height: 1.45;
  color: rgb(var(--color-text-secondary));
}

.column-hint-pro {
  display: block;
  margin-top: 6px;
  padding-top: 6px;
  border-top: 1px solid rgb(var(--color-border));
  font-size: 10px;
  line-height: 1.4;
  color: rgb(var(--color-text-muted));
}

.column-hint-pro::before {
  content: 'Pro: ';
  color: rgb(var(--color-cyan));
  font-weight: 500;
}

/* Adjust tooltip position for edge columns */
.column-hint-tooltip--left {
  left: -4px;
  transform: translateX(0) translateY(4px);
}

.column-hint:hover .column-hint-tooltip--left {
  transform: translateX(0) translateY(0);
}

.column-hint-tooltip--right {
  left: auto;
  right: -4px;
  transform: translateX(0) translateY(4px);
}

.column-hint:hover .column-hint-tooltip--right {
  transform: translateX(0) translateY(0);
}

.column-hint-tooltip--top {
  top: auto;
  bottom: calc(100% + 6px);
  left: auto;
  right: 0;
  transform: translateX(0) translateY(-4px);
}

.column-hint:hover .column-hint-tooltip--top {
  transform: translateX(0) translateY(0);
}

/* --------------------------------------------------------------------------
   Purchase Flow Hint (Positions page)
   -------------------------------------------------------------------------- */
.purchase-flow-hint {
  position: relative;
  display: inline-flex;
  align-items: center;
}

.purchase-flow-hint-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0.5;
  cursor: help;
  transition: opacity 0.15s ease;
  color: rgb(var(--color-cyan));
}

.purchase-flow-hint:hover .purchase-flow-hint-icon {
  opacity: 1;
}

.purchase-flow-hint-tooltip {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  z-index: 50;
  pointer-events: none;

  /* Hidden by default */
  opacity: 0;
  visibility: hidden;
  transform: translateY(4px);
  transition: all 0.15s ease;

  /* Tooltip styling - wider for the flow */
  width: 320px;
  padding: 12px 14px;
  background: rgb(22 24 30);
  border: 1px solid rgb(var(--color-border));
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);
  text-align: left;
}

.purchase-flow-hint:hover .purchase-flow-hint-tooltip {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

.purchase-flow-hint-title {
  display: block;
  font-size: 12px;
  font-weight: 600;
  color: rgb(var(--color-cyan));
  margin-bottom: 10px;
}

.purchase-flow-hint-content {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.purchase-flow-hint-step {
  display: flex;
  gap: 8px;
  align-items: flex-start;
  font-size: 11px;
  line-height: 1.4;
  color: rgb(var(--color-text-secondary));
}

.purchase-flow-hint-num {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgb(var(--color-surface-hover));
  border-radius: 50%;
  font-size: 10px;
  font-weight: 600;
  color: rgb(var(--color-text-muted));
}

.purchase-flow-hint-step strong {
  color: rgb(var(--color-text-primary));
  font-weight: 500;
}

.purchase-flow-hint-labels {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgb(var(--color-border));
  font-size: 10px;
  line-height: 1.4;
  color: rgb(var(--color-text-muted));
}

.purchase-flow-hint-label-title {
  font-weight: 500;
  color: rgb(var(--color-text-secondary));
  margin-bottom: 2px;
}
